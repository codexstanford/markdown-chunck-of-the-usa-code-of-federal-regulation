
# Title 40 - Protection of Environment
## Chapter I - Environmental Protection Agency
### Subchapter C - Air Programs
#### PART 86 - CONTROL OF EMISSIONS FROM NEW AND IN-USE HIGHWAY VEHICLES AND ENGINES
##### Subpart A - General Provisions for Heavy-Duty Engines and Heavy-Duty Vehicles
###### ยง 86.010-18 On-board Diagnostics for engines used in applications greater than 14,000 pounds GVWR.
####### Diagnostic trouble codes.

(iv)(A) For model years 2010 through 2012, For all monitored components and systems, any stored pending, MIL-on, and previous-MIL-on DTCs must be made available through the diagnostic connector. For model years 2013 and later, all monitored components and systems, any stored pending, MIL-on, and previous-MIL-on DTCs must be made available through the diagnostic connector in a standardized format in accordance with SAE J1939 (as specified in paragraph (k)(1) of this section) or ISO 15765-4:2005(E) (as specified in paragraph (k)(1) of this section) specifications; standardized DTCs conforming to the applicable standardized specifications must be employed.

(B) The stored DTC must, to the extent possible, pinpoint the probable cause of the malfunction or potential malfunction. To the extent feasible, the manufacturer must use separate DTCs for every monitor where the monitor and repair procedure or probable cause of the malfunction is different. In general, rationality and functional checks must use different DTCs than the respective circuit integrity checks. Additionally, to the extent possible, input component circuit integrity checks must use different DTCs for distinct malfunctions (e.g., out-of-range low, out-of-range high, open circuit).

(C) The manufacturer must use appropriate standard-defined DTCs whenever possible. With Administrator approval, the manufacturer may use manufacturer-defined DTCs in accordance with the applicable standard's specifications. To do so, the manufacturer must be able to show a lack of available standard-defined DTCs, uniqueness of the monitor or monitored component, expected future usage of the monitor or component, and estimated usefulness in providing additional diagnostic and repair information to service technicians. Manufacturer-defined DTCs must be used in a consistent manner (i.e., the same DTC shall not be used to represent two different failure modes) across a manufacturer's entire product line.

(D) For model years 2010 through 2012, a pending or MIL-on DTC (as required in paragraphs (g) through (i) of this section) must be stored and available to, at a minimum, a manufacturer scan tool within 10 seconds after a monitor has determined that a malfunction or potential malfunction has occurred. A permanent DTC must be stored and available to, at a minimum, a manufacturer scan tool no later than the end of an ignition cycle in which the corresponding MIL-on DTC that caused MIL activation has been stored. For model years 2013 and later, a pending or MIL-on DTC (as required in paragraphs (g) through (i) of this section) must be stored and available to an SAE J1978 (as specified in paragraph (k)(1) of this section) or SAE J1939 (as specified in paragraph (k)(1) of this section) scan tool within 10 seconds after a monitor has determined that a malfunction or potential malfunction has occurred. A permanent DTC must be stored and available to an SAE J1978 (as specified in paragraph (k)(1) of this section) or SAE J1939 (as specified in paragraph (k)(1) of this section) scan tool no later than the end of an ignition cycle in which the corresponding MIL-on DTC that caused MIL activation has been stored.

(E) For model years 2010 through 2012, pending DTCs for all components and systems (including those monitored continuously and non-continuously) must be made available through the diagnostic connector. For model years 2013 and later, pending DTCs for all components and systems (including those monitored continuously and non-continuously) must be made available through the diagnostic connector in accordance with the applicable standard's specifications. For all model years, a manufacturer using alternative statistical protocols for MIL activation as allowed in paragraph (b)(2)(iii) of this section must submit the details of their protocol for setting pending DTCs. The protocol must be, overall, equivalent to the requirements of this paragraph (k)(4)(iv)(E) and provide service technicians with a quick and accurate indication of a potential malfunction.

(F) For model years 2010 through 2012, permanent DTC for all components and systems must be made available through the diagnostic connector in a format that distinguishes permanent DTCs from pending DTCs, MIL-on DTCs, and previous-MIL-on DTCs. A MIL-on DTC must be stored as a permanent DTC no later than the end of the ignition cycle and subsequently at all times that the MIL-on DTC is commanding the MIL on. For model years 2013 and later, permanent DTC for all components and systems must be made available through the diagnostic connector in a standardized format that distinguishes permanent DTCs from pending DTCs, MIL-on DTCs, and previous-MIL-on DTCs. A MIL-on DTC must be stored as a permanent DTC no later than the end of the ignition cycle and subsequently at all times that the MIL-on DTC is commanding the MIL on. For all model years, permanent DTCs must be stored in non-volatile random access memory (NVRAM) and shall not be erasable by any scan tool command or by disconnecting power to the on-board computer. Permanent DTCs must be erasable if the engine control module is reprogrammed and the ready status described in paragraph (k)(4)(i) of this section for all monitored components and systems are set to "not complete." The OBD system must have the ability to store a minimum of four current MIL-on DTCs as permanent DTCs in NVRAM. If the number of MIL-on DTCs currently commanding activation of the MIL exceeds the maximum number of permanent DTCs that can be stored, the OBD system must store the earliest detected MIL-on DTC as permanent DTC. If additional MIL-on DTCs are stored when the maximum number of permanent DTCs is already stored in NVRAM, the OBD system shall not replace any existing permanent DTC with the additional MIL-on DTCs.
